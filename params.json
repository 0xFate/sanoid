{"name":"Sanoid","tagline":"Policy-driven snapshot management and replication tools.  Currently using ZFS for underlying next-gen storage, with explicit plans to support btrfs when btrfs becomes more reliable.  Primarily intended for Linux, but BSD use is supported and reasonably frequently tested.","body":"sanoid\r\n======\r\n\r\n![sanoid logo](http://www.openoid.net/wp-content/themes/openoid/images/sanoid_logo.png)\r\n\r\nSanoid is a policy-driven snapshot management tool for ZFS filesystems.\r\n\r\nYou can use Sanoid to create, automatically thin, and monitor snapshots and pool health from a single eminently human-readable TOML config file at /etc/sanoid/sanoid.conf.  A typical Sanoid system would have a single cron job:\r\n\r\n```\r\n* * * * * /usr/local/bin/sanoid --cron\r\n```\r\n\r\nAnd its /etc/sanoid/sanoid.conf might look something like this:\r\n\r\n```\r\n[data/home]\r\n\tuse_template = production\r\n[data/images/win2012]\r\n\tuse_template = production\r\n[data/images/win7-spice]\r\n\tuse_template = production\r\n\thourly = 4\r\n\r\n#############################\r\n# templates below this line #\r\n#############################\r\n\r\n[template_production]\r\n        hourly = 36\r\n        daily = 30\r\n        monthly = 3\r\n        yearly = 0\r\n        autosnap = yes\r\n        autoprune = yes\r\n```\r\n\r\nWhich would be enough to tell sanoid to take and keep 36 hourly snapshots, 30 dailies, 3 monthlies, and no yearlies.  Except in the case of data/images/win7-spice, which only keeps 4 hourlies for whatever reason.\r\n\r\nSanoid also includes a replication tool, syncoid, which facilitates the asynchronous incremental replication of ZFS filesystems.  A typical syncoid command might look like this:\r\n\r\n```\r\nsyncoid data/images/vm backup/images/vm\r\n```\r\n\r\nWhich would replicate the specified ZFS filesystem (aka dataset) from the data pool to the backup pool on the local system, or\r\n\r\n```\r\nsyncoid data/images/vm root@remotehost:backup/images/vm\r\n```\r\n\r\nWhich would push-replicate the specified ZFS filesystem from the local host to remotehost over an SSH tunnel, or\r\n\r\n```\r\nsyncoid root@remotehost:data/images/vm backup/images/vm\r\n```\r\n\r\nWhich would pull-replicate the filesystem from the remote host to the local system over an SSH tunnel.\r\n\r\nSyncoid supports and uses mbuffer buffering, lzop compression, and pv progress bars if the utilities are available on the systems used.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}